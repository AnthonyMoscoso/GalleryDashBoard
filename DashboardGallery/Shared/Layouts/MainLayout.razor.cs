using Bsn.Authentication;
using Bsn.DataServices.Interfaces;
using DashboardGallery.Shared.Components;
using DashboardGallery.Shared.Errors;
using Microsoft.AspNetCore.Components;

namespace DashboardGallery.Shared.Layouts
{
    public partial class MainLayout
    {
        private string imgSrc = "data:image/jpeg;base64,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";
        [Inject] IAuthentificationStateService? AuthentificationStateService { get; set; }
        private ProfileMenu _profileMenu = new();
        [CascadingParameter]
        public ErrorHandler? ErrorHandler { get; set; }

        private  async    Task LogOutClick()
        {
            try
            {
                _profileMenu.CloseMenu();
                await AuthentificationStateService!.LogOut();
            }
            catch(Exception ex) 
            {
                await ErrorHandler!.ProcessError(ex);
            }
      

        }
    }
}
